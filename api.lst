     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_task_now
     7 00000000                                 	EXTERN	_timer_free
     8 00000000                                 	EXTERN	_timer_login
     9 00000000                                 	EXTERN	_timer_settime
    10 00000000                                 	EXTERN	_timer_alloc
    11 00000000                                 	EXTERN	_io_cli
    12 00000000                                 	EXTERN	_fifo32_status
    13 00000000                                 	EXTERN	_mtask_sleep
    14 00000000                                 	EXTERN	_fifo32_get
    15 00000000                                 	EXTERN	_io_sti
    16 00000000                                 	EXTERN	_sheet_free
    17 00000000                                 	EXTERN	_sheet_refresh
    18 00000000                                 	EXTERN	_boxfill8
    19 00000000                                 	EXTERN	_putfonts8_asc
    20 00000000                                 	EXTERN	_sheet_alloc
    21 00000000                                 	EXTERN	_sheet_setbuf
    22 00000000                                 	EXTERN	_make_window8
    23 00000000                                 	EXTERN	_sheet_slide
    24 00000000                                 	EXTERN	_sheet_updown
    25 00000000                                 	EXTERN	_cmd_putchar
    26 00000000                                 [FILE "api.c"]
    27                                          [SECTION .text]
    28 00000000                                 	GLOBAL	_sys_api
    29 00000000                                 _sys_api:
    30 00000000 55                              	PUSH	EBP
    31 00000001 89 E5                           	MOV	EBP,ESP
    32 00000003 57                              	PUSH	EDI
    33 00000004 56                              	PUSH	ESI
    34 00000005 53                              	PUSH	EBX
    35 00000006 83 EC 28                        	SUB	ESP,40
    36 00000009 A1 00000FE8                     	MOV	EAX,DWORD [4072]
    37 0000000E 8B 5D 1C                        	MOV	EBX,DWORD [28+EBP]
    38 00000011 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
    39 00000014 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
    40 00000017 E8 [00000000]                   	CALL	_task_now
    41 0000001C 83 FB 01                        	CMP	EBX,1
    42 0000001F 8B 15 00000FE4                  	MOV	EDX,DWORD [4068]
    43 00000025 8B 35 00000FEC                  	MOV	ESI,DWORD [4076]
    44 0000002B 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
    45 0000002E 89 55 E8                        	MOV	DWORD [-24+EBP],EDX
    46 00000031 0F 84 00000393                  	JE	L62
    47 00000037 83 FB 02                        	CMP	EBX,2
    48 0000003A 0F 84 00000378                  	JE	L63
    49 00000040 83 FB 03                        	CMP	EBX,3
    50 00000043 0F 84 0000035A                  	JE	L64
    51 00000049 83 FB 04                        	CMP	EBX,4
    52 0000004C 0F 84 00000346                  	JE	L65
    53 00000052 83 FB 05                        	CMP	EBX,5
    54 00000055 0F 84 000002A9                  	JE	L66
    55 0000005B 83 FB 06                        	CMP	EBX,6
    56 0000005E 0F 84 0000025B                  	JE	L67
    57 00000064 83 FB 07                        	CMP	EBX,7
    58 00000067 0F 84 0000022B                  	JE	L68
    59 0000006D 83 FB 08                        	CMP	EBX,8
    60 00000070 0F 84 000001FE                  	JE	L69
    61 00000076 83 FB 09                        	CMP	EBX,9
    62 00000079 0F 84 000001D7                  	JE	L70
    63 0000007F 83 FB 0A                        	CMP	EBX,10
    64 00000082 0F 84 000001B0                  	JE	L71
    65 00000088 83 FB 0B                        	CMP	EBX,11
    66 0000008B 0F 84 00000174                  	JE	L72
    67 00000091 83 FB 0C                        	CMP	EBX,12
    68 00000094 0F 84 0000015C                  	JE	L73
    69 0000009A 83 FB 0D                        	CMP	EBX,13
    70 0000009D 0F 84 0000010D                  	JE	L74
    71 000000A3 83 FB 0E                        	CMP	EBX,14
    72 000000A6 0F 84 000000F7                  	JE	L75
    73 000000AC 83 FB 0F                        	CMP	EBX,15
    74 000000AF 74 5A                           	JE	L35
    75 000000B1 83 FB 10                        	CMP	EBX,16
    76 000000B4 74 4B                           	JE	L76
    77 000000B6 83 FB 11                        	CMP	EBX,17
    78 000000B9 74 2E                           	JE	L77
    79 000000BB 83 FB 12                        	CMP	EBX,18
    80 000000BE 74 1A                           	JE	L78
    81 000000C0 83 FB 13                        	CMP	EBX,19
    82 000000C3 74 0A                           	JE	L79
    83 000000C5                                 L3:
    84 000000C5 31 C0                           	XOR	EAX,EAX
    85 000000C7                                 L1:
    86 000000C7 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
    87 000000CA 5B                              	POP	EBX
    88 000000CB 5E                              	POP	ESI
    89 000000CC 5F                              	POP	EDI
    90 000000CD 5D                              	POP	EBP
    91 000000CE C3                              	RET
    92 000000CF                                 L79:
    93 000000CF FF 75 18                        	PUSH	DWORD [24+EBP]
    94 000000D2 E8 [00000000]                   	CALL	_timer_free
    95 000000D7                                 L53:
    96 000000D7 58                              	POP	EAX
    97 000000D8 EB EB                           	JMP	L3
    98 000000DA                                 L78:
    99 000000DA FF 75 24                        	PUSH	DWORD [36+EBP]
   100 000000DD FF 75 18                        	PUSH	DWORD [24+EBP]
   101 000000E0 E8 [00000000]                   	CALL	_timer_login
   102 000000E5                                 L56:
   103 000000E5 5A                              	POP	EDX
   104 000000E6 59                              	POP	ECX
   105 000000E7 EB DC                           	JMP	L3
   106 000000E9                                 L77:
   107 000000E9 0F B6 45 24                     	MOVZX	EAX,BYTE [36+EBP]
   108 000000ED 8B 4D EC                        	MOV	ECX,DWORD [-20+EBP]
   109 000000F0 50                              	PUSH	EAX
   110 000000F1 FF 71 10                        	PUSH	DWORD [16+ECX]
   111 000000F4 FF 75 18                        	PUSH	DWORD [24+EBP]
   112 000000F7 E8 [00000000]                   	CALL	_timer_settime
   113 000000FC                                 L55:
   114 000000FC 83 C4 0C                        	ADD	ESP,12
   115 000000FF EB C4                           	JMP	L3
   116 00000101                                 L76:
   117 00000101 E8 [00000000]                   	CALL	_timer_alloc
   118 00000106                                 L60:
   119 00000106 89 45 44                        	MOV	DWORD [68+EBP],EAX
   120 00000109 EB BA                           	JMP	L3
   121 0000010B                                 L35:
   122 0000010B E8 [00000000]                   	CALL	_io_cli
   123 00000110 8B 4D EC                        	MOV	ECX,DWORD [-20+EBP]
   124 00000113 FF 71 10                        	PUSH	DWORD [16+ECX]
   125 00000116 E8 [00000000]                   	CALL	_fifo32_status
   126 0000011B 5A                              	POP	EDX
   127 0000011C 85 C0                           	TEST	EAX,EAX
   128 0000011E 75 0F                           	JNE	L38
   129 00000120 83 7D 24 00                     	CMP	DWORD [36+EBP],0
   130 00000124 74 6C                           	JE	L39
   131 00000126 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   132 00000129 E8 [00000000]                   	CALL	_mtask_sleep
   133 0000012E 58                              	POP	EAX
   134 0000012F                                 L38:
   135 0000012F 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   136 00000132 FF 70 10                        	PUSH	DWORD [16+EAX]
   137 00000135 E8 [00000000]                   	CALL	_fifo32_get
   138 0000013A 89 C3                           	MOV	EBX,EAX
   139 0000013C E8 [00000000]                   	CALL	_io_sti
   140 00000141 5F                              	POP	EDI
   141 00000142 83 FB 01                        	CMP	EBX,1
   142 00000145 7E 2C                           	JLE	L80
   143 00000147                                 L41:
   144 00000147 83 FB 02                        	CMP	EBX,2
   145 0000014A 74 1E                           	JE	L81
   146 0000014C                                 L42:
   147 0000014C 83 FB 03                        	CMP	EBX,3
   148 0000014F 74 10                           	JE	L82
   149 00000151                                 L43:
   150 00000151 8D 83 FFFFFF00                  	LEA	EAX,DWORD [-256+EBX]
   151 00000157 81 FB 000000FF                  	CMP	EBX,255
   152 0000015D 7F A7                           	JG	L60
   153 0000015F EB AA                           	JMP	L35
   154 00000161                                 L82:
   155 00000161 C7 46 10 FFFFFFFF               	MOV	DWORD [16+ESI],-1
   156 00000168 EB E7                           	JMP	L43
   157 0000016A                                 L81:
   158 0000016A C7 46 10 00000007               	MOV	DWORD [16+ESI],7
   159 00000171 EB D9                           	JMP	L42
   160 00000173                                 L80:
   161 00000173 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
   162 00000176 6A 01                           	PUSH	1
   163 00000178 FF 72 10                        	PUSH	DWORD [16+EDX]
   164 0000017B FF 76 04                        	PUSH	DWORD [4+ESI]
   165 0000017E E8 [00000000]                   	CALL	_timer_settime
   166 00000183 6A 32                           	PUSH	50
   167 00000185 FF 76 04                        	PUSH	DWORD [4+ESI]
   168 00000188 E8 [00000000]                   	CALL	_timer_login
   169 0000018D 83 C4 14                        	ADD	ESP,20
   170 00000190 EB B5                           	JMP	L41
   171 00000192                                 L39:
   172 00000192 E8 [00000000]                   	CALL	_io_sti
   173 00000197 C7 45 44 FFFFFFFF               	MOV	DWORD [68+EBP],-1
   174 0000019E E9 FFFFFF22                     	JMP	L3
   175 000001A3                                 L75:
   176 000001A3 FF 75 18                        	PUSH	DWORD [24+EBP]
   177 000001A6 E8 [00000000]                   	CALL	_sheet_free
   178 000001AB E9 FFFFFF27                     	JMP	L53
   179 000001B0                                 L74:
   180 000001B0 FF 75 10                        	PUSH	DWORD [16+EBP]
   181 000001B3 57                              	PUSH	EDI
   182 000001B4 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
   183 000001B7 FF 75 0C                        	PUSH	DWORD [12+EBP]
   184 000001BA FF 75 20                        	PUSH	DWORD [32+EBP]
   185 000001BD FF 75 24                        	PUSH	DWORD [36+EBP]
   186 000001C0 83 E6 FE                        	AND	ESI,-2
   187 000001C3 56                              	PUSH	ESI
   188 000001C4 E8 000003E0                     	CALL	_sys_api_linewin
   189 000001C9 83 C4 18                        	ADD	ESP,24
   190 000001CC                                 L61:
   191 000001CC F7 45 18 00000001               	TEST	DWORD [24+EBP],1
   192 000001D3 0F 85 FFFFFEEC                  	JNE	L3
   193 000001D9 8D 47 01                        	LEA	EAX,DWORD [1+EDI]
   194 000001DC 50                              	PUSH	EAX
   195 000001DD 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   196 000001E0 40                              	INC	EAX
   197 000001E1 50                              	PUSH	EAX
   198 000001E2 FF 75 20                        	PUSH	DWORD [32+EBP]
   199 000001E5 FF 75 24                        	PUSH	DWORD [36+EBP]
   200 000001E8                                 L58:
   201 000001E8 56                              	PUSH	ESI
   202 000001E9                                 L54:
   203 000001E9 E8 [00000000]                   	CALL	_sheet_refresh
   204 000001EE                                 L57:
   205 000001EE 83 C4 14                        	ADD	ESP,20
   206 000001F1 E9 FFFFFECF                     	JMP	L3
   207 000001F6                                 L73:
   208 000001F6 57                              	PUSH	EDI
   209 000001F7 FF 75 0C                        	PUSH	DWORD [12+EBP]
   210 000001FA FF 75 20                        	PUSH	DWORD [32+EBP]
   211 000001FD FF 75 24                        	PUSH	DWORD [36+EBP]
   212 00000200 FF 75 18                        	PUSH	DWORD [24+EBP]
   213 00000203 EB E4                           	JMP	L54
   214 00000205                                 L72:
   215 00000205 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
   216 00000208 89 F8                           	MOV	EAX,EDI
   217 0000020A 83 E6 FE                        	AND	ESI,-2
   218 0000020D 8A 55 24                        	MOV	DL,BYTE [36+EBP]
   219 00000210 0F AF 46 04                     	IMUL	EAX,DWORD [4+ESI]
   220 00000214 03 45 0C                        	ADD	EAX,DWORD [12+EBP]
   221 00000217 8B 0E                           	MOV	ECX,DWORD [ESI]
   222 00000219 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
   223 0000021C F7 45 18 00000001               	TEST	DWORD [24+EBP],1
   224 00000223 0F 85 FFFFFE9C                  	JNE	L3
   225 00000229 8D 47 01                        	LEA	EAX,DWORD [1+EDI]
   226 0000022C 50                              	PUSH	EAX
   227 0000022D 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   228 00000230 40                              	INC	EAX
   229 00000231 50                              	PUSH	EAX
   230 00000232 57                              	PUSH	EDI
   231 00000233 FF 75 0C                        	PUSH	DWORD [12+EBP]
   232 00000236 EB B0                           	JMP	L58
   233 00000238                                 L71:
   234 00000238 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
   235 0000023B 83 C0 0F                        	ADD	EAX,15
   236 0000023E 83 E0 F0                        	AND	EAX,-16
   237 00000241 50                              	PUSH	EAX
   238 00000242 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
   239 00000245 03 45 F0                        	ADD	EAX,DWORD [-16+EBP]
   240 00000248 FF 75 24                        	PUSH	DWORD [36+EBP]
   241 0000024B 50                              	PUSH	EAX
   242 0000024C E8 0000020F                     	CALL	_malloc_free
   243 00000251 E9 FFFFFEA6                     	JMP	L55
   244 00000256                                 L70:
   245 00000256 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
   246 00000259 83 C0 0F                        	ADD	EAX,15
   247 0000025C 83 E0 F0                        	AND	EAX,-16
   248 0000025F 50                              	PUSH	EAX
   249 00000260 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
   250 00000263 03 45 F0                        	ADD	EAX,DWORD [-16+EBP]
   251 00000266 50                              	PUSH	EAX
   252 00000267 E8 000002DA                     	CALL	_malloc_alloc
   253 0000026C 89 45 44                        	MOV	DWORD [68+EBP],EAX
   254 0000026F E9 FFFFFE71                     	JMP	L56
   255 00000274                                 L69:
   256 00000274 8B 5D 18                        	MOV	EBX,DWORD [24+EBP]
   257 00000277 03 5D F0                        	ADD	EBX,DWORD [-16+EBP]
   258 0000027A 53                              	PUSH	EBX
   259 0000027B E8 000001BD                     	CALL	_malloc_init
   260 00000280 83 65 20 F0                     	AND	DWORD [32+EBP],-16
   261 00000284 FF 75 20                        	PUSH	DWORD [32+EBP]
   262 00000287 FF 75 24                        	PUSH	DWORD [36+EBP]
   263 0000028A 53                              	PUSH	EBX
   264 0000028B E8 000001D0                     	CALL	_malloc_free
   265 00000290 83 C4 10                        	ADD	ESP,16
   266 00000293 E9 FFFFFE2D                     	JMP	L3
   267 00000298                                 L68:
   268 00000298 57                              	PUSH	EDI
   269 00000299 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
   270 0000029C FF 75 0C                        	PUSH	DWORD [12+EBP]
   271 0000029F FF 75 20                        	PUSH	DWORD [32+EBP]
   272 000002A2 FF 75 24                        	PUSH	DWORD [36+EBP]
   273 000002A5 83 E6 FE                        	AND	ESI,-2
   274 000002A8 0F B6 45 10                     	MOVZX	EAX,BYTE [16+EBP]
   275 000002AC 50                              	PUSH	EAX
   276 000002AD FF 76 04                        	PUSH	DWORD [4+ESI]
   277 000002B0 FF 36                           	PUSH	DWORD [ESI]
   278 000002B2 E8 [00000000]                   	CALL	_boxfill8
   279 000002B7 83 C4 1C                        	ADD	ESP,28
   280 000002BA E9 FFFFFF0D                     	JMP	L61
   281 000002BF                                 L67:
   282 000002BF 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   283 000002C2 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
   284 000002C5 03 45 F0                        	ADD	EAX,DWORD [-16+EBP]
   285 000002C8 83 E6 FE                        	AND	ESI,-2
   286 000002CB 50                              	PUSH	EAX
   287 000002CC 0F BE 45 24                     	MOVSX	EAX,BYTE [36+EBP]
   288 000002D0 50                              	PUSH	EAX
   289 000002D1 57                              	PUSH	EDI
   290 000002D2 FF 75 0C                        	PUSH	DWORD [12+EBP]
   291 000002D5 FF 76 04                        	PUSH	DWORD [4+ESI]
   292 000002D8 FF 36                           	PUSH	DWORD [ESI]
   293 000002DA E8 [00000000]                   	CALL	_putfonts8_asc
   294 000002DF 83 C4 18                        	ADD	ESP,24
   295 000002E2 F7 45 18 00000001               	TEST	DWORD [24+EBP],1
   296 000002E9 0F 85 FFFFFDD6                  	JNE	L3
   297 000002EF 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
   298 000002F2 8B 55 20                        	MOV	EDX,DWORD [32+EBP]
   299 000002F5 8D 47 10                        	LEA	EAX,DWORD [16+EDI]
   300 000002F8 50                              	PUSH	EAX
   301 000002F9 8D 04 D1                        	LEA	EAX,DWORD [ECX+EDX*8]
   302 000002FC 50                              	PUSH	EAX
   303 000002FD 57                              	PUSH	EDI
   304 000002FE 51                              	PUSH	ECX
   305 000002FF E9 FFFFFEE4                     	JMP	L58
   306 00000304                                 L66:
   307 00000304 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   308 00000307 E8 [00000000]                   	CALL	_sheet_alloc
   309 0000030C 8B 5D 18                        	MOV	EBX,DWORD [24+EBP]
   310 0000030F 8B 4D EC                        	MOV	ECX,DWORD [-20+EBP]
   311 00000312 89 C6                           	MOV	ESI,EAX
   312 00000314 89 48 24                        	MOV	DWORD [36+EAX],ECX
   313 00000317 03 5D F0                        	ADD	EBX,DWORD [-16+EBP]
   314 0000031A 83 48 1C 10                     	OR	DWORD [28+EAX],16
   315 0000031E FF 75 24                        	PUSH	DWORD [36+EBP]
   316 00000321 57                              	PUSH	EDI
   317 00000322 FF 75 0C                        	PUSH	DWORD [12+EBP]
   318 00000325 53                              	PUSH	EBX
   319 00000326 50                              	PUSH	EAX
   320 00000327 E8 [00000000]                   	CALL	_sheet_setbuf
   321 0000032C 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
   322 0000032F 03 45 F0                        	ADD	EAX,DWORD [-16+EBP]
   323 00000332 6A 01                           	PUSH	1
   324 00000334 50                              	PUSH	EAX
   325 00000335 57                              	PUSH	EDI
   326 00000336 FF 75 0C                        	PUSH	DWORD [12+EBP]
   327 00000339 53                              	PUSH	EBX
   328 0000033A BB 00000002                     	MOV	EBX,2
   329 0000033F E8 [00000000]                   	CALL	_make_window8
   330 00000344 8B 4D E8                        	MOV	ECX,DWORD [-24+EBP]
   331 00000347 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   332 0000034A 83 C4 2C                        	ADD	ESP,44
   333 0000034D 8B 40 0C                        	MOV	EAX,DWORD [12+EAX]
   334 00000350 99                              	CDQ
   335 00000351 89 45 E4                        	MOV	DWORD [-28+EBP],EAX
   336 00000354 F7 FB                           	IDIV	EBX
   337 00000356 89 45 E0                        	MOV	DWORD [-32+EBP],EAX
   338 00000359 89 F8                           	MOV	EAX,EDI
   339 0000035B 99                              	CDQ
   340 0000035C F7 FB                           	IDIV	EBX
   341 0000035E 29 45 E0                        	SUB	DWORD [-32+EBP],EAX
   342 00000361 FF 75 E0                        	PUSH	DWORD [-32+EBP]
   343 00000364 8B 49 08                        	MOV	ECX,DWORD [8+ECX]
   344 00000367 89 C8                           	MOV	EAX,ECX
   345 00000369 89 4D D8                        	MOV	DWORD [-40+EBP],ECX
   346 0000036C 99                              	CDQ
   347 0000036D F7 FB                           	IDIV	EBX
   348 0000036F 89 45 D4                        	MOV	DWORD [-44+EBP],EAX
   349 00000372 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   350 00000375 99                              	CDQ
   351 00000376 F7 FB                           	IDIV	EBX
   352 00000378 29 45 D4                        	SUB	DWORD [-44+EBP],EAX
   353 0000037B FF 75 D4                        	PUSH	DWORD [-44+EBP]
   354 0000037E 56                              	PUSH	ESI
   355 0000037F E8 [00000000]                   	CALL	_sheet_slide
   356 00000384 8B 4D E8                        	MOV	ECX,DWORD [-24+EBP]
   357 00000387 FF 71 10                        	PUSH	DWORD [16+ECX]
   358 0000038A 56                              	PUSH	ESI
   359 0000038B E8 [00000000]                   	CALL	_sheet_updown
   360 00000390 89 75 44                        	MOV	DWORD [68+EBP],ESI
   361 00000393 E9 FFFFFE56                     	JMP	L57
   362 00000398                                 L65:
   363 00000398 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   364 0000039B 83 C0 18                        	ADD	EAX,24
   365 0000039E E9 FFFFFD24                     	JMP	L1
   366 000003A3                                 L64:
   367 000003A3 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
   368 000003A6 03 45 F0                        	ADD	EAX,DWORD [-16+EBP]
   369 000003A9 FF 75 20                        	PUSH	DWORD [32+EBP]
   370 000003AC 50                              	PUSH	EAX
   371 000003AD 56                              	PUSH	ESI
   372 000003AE E8 00000057                     	CALL	_cmd_putstr1
   373 000003B3 E9 FFFFFD44                     	JMP	L55
   374 000003B8                                 L63:
   375 000003B8 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
   376 000003BB 03 45 F0                        	ADD	EAX,DWORD [-16+EBP]
   377 000003BE 50                              	PUSH	EAX
   378 000003BF 56                              	PUSH	ESI
   379 000003C0 E8 00000017                     	CALL	_cmd_putstr0
   380 000003C5 E9 FFFFFD1B                     	JMP	L56
   381 000003CA                                 L62:
   382 000003CA 6A 01                           	PUSH	1
   383 000003CC 0F B6 45 24                     	MOVZX	EAX,BYTE [36+EBP]
   384 000003D0 50                              	PUSH	EAX
   385 000003D1 56                              	PUSH	ESI
   386 000003D2 E8 [00000000]                   	CALL	_cmd_putchar
   387 000003D7 E9 FFFFFD20                     	JMP	L55
   388 000003DC                                 	GLOBAL	_cmd_putstr0
   389 000003DC                                 _cmd_putstr0:
   390 000003DC 55                              	PUSH	EBP
   391 000003DD 89 E5                           	MOV	EBP,ESP
   392 000003DF 56                              	PUSH	ESI
   393 000003E0 53                              	PUSH	EBX
   394 000003E1 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   395 000003E4 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   396 000003E7 80 3B 00                        	CMP	BYTE [EBX],0
   397 000003EA 75 07                           	JNE	L88
   398 000003EC                                 L90:
   399 000003EC 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   400 000003EF 5B                              	POP	EBX
   401 000003F0 5E                              	POP	ESI
   402 000003F1 5D                              	POP	EBP
   403 000003F2 C3                              	RET
   404 000003F3                                 L88:
   405 000003F3 6A 01                           	PUSH	1
   406 000003F5 0F BE 03                        	MOVSX	EAX,BYTE [EBX]
   407 000003F8 50                              	PUSH	EAX
   408 000003F9 43                              	INC	EBX
   409 000003FA 56                              	PUSH	ESI
   410 000003FB E8 [00000000]                   	CALL	_cmd_putchar
   411 00000400 83 C4 0C                        	ADD	ESP,12
   412 00000403 80 3B 00                        	CMP	BYTE [EBX],0
   413 00000406 75 EB                           	JNE	L88
   414 00000408 EB E2                           	JMP	L90
   415 0000040A                                 	GLOBAL	_cmd_putstr1
   416 0000040A                                 _cmd_putstr1:
   417 0000040A 55                              	PUSH	EBP
   418 0000040B 89 E5                           	MOV	EBP,ESP
   419 0000040D 57                              	PUSH	EDI
   420 0000040E 56                              	PUSH	ESI
   421 0000040F 53                              	PUSH	EBX
   422 00000410 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   423 00000413 31 DB                           	XOR	EBX,EBX
   424 00000415 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   425 00000418 39 F3                           	CMP	EBX,ESI
   426 0000041A 7C 08                           	JL	L96
   427 0000041C                                 L98:
   428 0000041C 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   429 0000041F 5B                              	POP	EBX
   430 00000420 5E                              	POP	ESI
   431 00000421 5F                              	POP	EDI
   432 00000422 5D                              	POP	EBP
   433 00000423 C3                              	RET
   434 00000424                                 L96:
   435 00000424 6A 01                           	PUSH	1
   436 00000426 0F BE 04 3B                     	MOVSX	EAX,BYTE [EBX+EDI*1]
   437 0000042A 50                              	PUSH	EAX
   438 0000042B 43                              	INC	EBX
   439 0000042C FF 75 08                        	PUSH	DWORD [8+EBP]
   440 0000042F E8 [00000000]                   	CALL	_cmd_putchar
   441 00000434 83 C4 0C                        	ADD	ESP,12
   442 00000437 39 F3                           	CMP	EBX,ESI
   443 00000439 7C E9                           	JL	L96
   444 0000043B EB DF                           	JMP	L98
   445 0000043D                                 	GLOBAL	_malloc_init
   446 0000043D                                 _malloc_init:
   447 0000043D 55                              	PUSH	EBP
   448 0000043E 89 E5                           	MOV	EBP,ESP
   449 00000440 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   450 00000443 C7 00 00000000                  	MOV	DWORD [EAX],0
   451 00000449 C7 40 04 00000000               	MOV	DWORD [4+EAX],0
   452 00000450 C7 40 08 00000000               	MOV	DWORD [8+EAX],0
   453 00000457 C7 40 0C 00000000               	MOV	DWORD [12+EAX],0
   454 0000045E 5D                              	POP	EBP
   455 0000045F C3                              	RET
   456 00000460                                 	GLOBAL	_malloc_free
   457 00000460                                 _malloc_free:
   458 00000460 55                              	PUSH	EBP
   459 00000461 89 E5                           	MOV	EBP,ESP
   460 00000463 57                              	PUSH	EDI
   461 00000464 56                              	PUSH	ESI
   462 00000465 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   463 00000468 53                              	PUSH	EBX
   464 00000469 31 DB                           	XOR	EBX,EBX
   465 0000046B 8B 3E                           	MOV	EDI,DWORD [ESI]
   466 0000046D 39 FB                           	CMP	EBX,EDI
   467 0000046F 7D 0E                           	JGE	L102
   468 00000471                                 L106:
   469 00000471 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   470 00000474 39 44 DE 10                     	CMP	DWORD [16+ESI+EBX*8],EAX
   471 00000478 77 05                           	JA	L102
   472 0000047A 43                              	INC	EBX
   473 0000047B 39 FB                           	CMP	EBX,EDI
   474 0000047D 7C F2                           	JL	L106
   475 0000047F                                 L102:
   476 0000047F 85 DB                           	TEST	EBX,EBX
   477 00000481 7E 0F                           	JLE	L107
   478 00000483 8B 54 DE 0C                     	MOV	EDX,DWORD [12+ESI+EBX*8]
   479 00000487 8B 44 DE 08                     	MOV	EAX,DWORD [8+ESI+EBX*8]
   480 0000048B 01 D0                           	ADD	EAX,EDX
   481 0000048D 3B 45 0C                        	CMP	EAX,DWORD [12+EBP]
   482 00000490 74 73                           	JE	L130
   483 00000492                                 L107:
   484 00000492 39 FB                           	CMP	EBX,EDI
   485 00000494 7D 0C                           	JGE	L116
   486 00000496 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   487 00000499 03 45 10                        	ADD	EAX,DWORD [16+EBP]
   488 0000049C 3B 44 DE 10                     	CMP	EAX,DWORD [16+ESI+EBX*8]
   489 000004A0 74 53                           	JE	L131
   490 000004A2                                 L116:
   491 000004A2 81 FF 00000FF9                  	CMP	EDI,4089
   492 000004A8 7F 3D                           	JG	L118
   493 000004AA 89 F9                           	MOV	ECX,EDI
   494 000004AC 39 DF                           	CMP	EDI,EBX
   495 000004AE 7E 15                           	JLE	L128
   496 000004B0                                 L123:
   497 000004B0 8B 44 CE 08                     	MOV	EAX,DWORD [8+ESI+ECX*8]
   498 000004B4 8B 54 CE 0C                     	MOV	EDX,DWORD [12+ESI+ECX*8]
   499 000004B8 89 44 CE 10                     	MOV	DWORD [16+ESI+ECX*8],EAX
   500 000004BC 89 54 CE 14                     	MOV	DWORD [20+ESI+ECX*8],EDX
   501 000004C0 49                              	DEC	ECX
   502 000004C1 39 D9                           	CMP	ECX,EBX
   503 000004C3 7F EB                           	JG	L123
   504 000004C5                                 L128:
   505 000004C5 8D 47 01                        	LEA	EAX,DWORD [1+EDI]
   506 000004C8 89 06                           	MOV	DWORD [ESI],EAX
   507 000004CA 39 46 04                        	CMP	DWORD [4+ESI],EAX
   508 000004CD 7D 03                           	JGE	L124
   509 000004CF 89 46 04                        	MOV	DWORD [4+ESI],EAX
   510 000004D2                                 L124:
   511 000004D2 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   512 000004D5 89 44 DE 10                     	MOV	DWORD [16+ESI+EBX*8],EAX
   513 000004D9 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   514 000004DC 89 44 DE 14                     	MOV	DWORD [20+ESI+EBX*8],EAX
   515 000004E0                                 L129:
   516 000004E0 31 C0                           	XOR	EAX,EAX
   517 000004E2                                 L100:
   518 000004E2 5B                              	POP	EBX
   519 000004E3 5E                              	POP	ESI
   520 000004E4 5F                              	POP	EDI
   521 000004E5 5D                              	POP	EBP
   522 000004E6 C3                              	RET
   523 000004E7                                 L118:
   524 000004E7 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   525 000004EA FF 46 0C                        	INC	DWORD [12+ESI]
   526 000004ED 01 46 08                        	ADD	DWORD [8+ESI],EAX
   527 000004F0 83 C8 FF                        	OR	EAX,-1
   528 000004F3 EB ED                           	JMP	L100
   529 000004F5                                 L131:
   530 000004F5 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   531 000004F8 89 44 DE 10                     	MOV	DWORD [16+ESI+EBX*8],EAX
   532 000004FC 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   533 000004FF 01 44 DE 14                     	ADD	DWORD [20+ESI+EBX*8],EAX
   534 00000503 EB DB                           	JMP	L129
   535 00000505                                 L130:
   536 00000505 03 55 10                        	ADD	EDX,DWORD [16+EBP]
   537 00000508 89 54 DE 0C                     	MOV	DWORD [12+ESI+EBX*8],EDX
   538 0000050C 3B 1E                           	CMP	EBX,DWORD [ESI]
   539 0000050E 7D D0                           	JGE	L129
   540 00000510 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   541 00000513 03 45 10                        	ADD	EAX,DWORD [16+EBP]
   542 00000516 3B 44 DE 10                     	CMP	EAX,DWORD [16+ESI+EBX*8]
   543 0000051A 75 C4                           	JNE	L129
   544 0000051C 03 54 DE 14                     	ADD	EDX,DWORD [20+ESI+EBX*8]
   545 00000520 89 54 DE 0C                     	MOV	DWORD [12+ESI+EBX*8],EDX
   546 00000524 8B 06                           	MOV	EAX,DWORD [ESI]
   547 00000526 48                              	DEC	EAX
   548 00000527 89 06                           	MOV	DWORD [ESI],EAX
   549 00000529 39 C3                           	CMP	EBX,EAX
   550 0000052B 7D B3                           	JGE	L129
   551 0000052D 89 C1                           	MOV	ECX,EAX
   552 0000052F                                 L115:
   553 0000052F 8B 44 DE 18                     	MOV	EAX,DWORD [24+ESI+EBX*8]
   554 00000533 8B 54 DE 1C                     	MOV	EDX,DWORD [28+ESI+EBX*8]
   555 00000537 89 44 DE 10                     	MOV	DWORD [16+ESI+EBX*8],EAX
   556 0000053B 89 54 DE 14                     	MOV	DWORD [20+ESI+EBX*8],EDX
   557 0000053F 43                              	INC	EBX
   558 00000540 39 CB                           	CMP	EBX,ECX
   559 00000542 7C EB                           	JL	L115
   560 00000544 EB 9A                           	JMP	L129
   561 00000546                                 	GLOBAL	_malloc_alloc
   562 00000546                                 _malloc_alloc:
   563 00000546 55                              	PUSH	EBP
   564 00000547 31 C9                           	XOR	ECX,ECX
   565 00000549 89 E5                           	MOV	EBP,ESP
   566 0000054B 57                              	PUSH	EDI
   567 0000054C 56                              	PUSH	ESI
   568 0000054D 53                              	PUSH	EBX
   569 0000054E 8B 75 0C                        	MOV	ESI,DWORD [12+EBP]
   570 00000551 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   571 00000554 8B 03                           	MOV	EAX,DWORD [EBX]
   572 00000556 39 C1                           	CMP	ECX,EAX
   573 00000558 73 0D                           	JAE	L146
   574 0000055A                                 L144:
   575 0000055A 8B 54 CB 14                     	MOV	EDX,DWORD [20+EBX+ECX*8]
   576 0000055E 39 F2                           	CMP	EDX,ESI
   577 00000560 73 0C                           	JAE	L148
   578 00000562 41                              	INC	ECX
   579 00000563 39 C1                           	CMP	ECX,EAX
   580 00000565 72 F3                           	JB	L144
   581 00000567                                 L146:
   582 00000567 31 C0                           	XOR	EAX,EAX
   583 00000569                                 L132:
   584 00000569 5B                              	POP	EBX
   585 0000056A 5E                              	POP	ESI
   586 0000056B 5F                              	POP	EDI
   587 0000056C 5D                              	POP	EBP
   588 0000056D C3                              	RET
   589 0000056E                                 L148:
   590 0000056E 8B 7C CB 10                     	MOV	EDI,DWORD [16+EBX+ECX*8]
   591 00000572 8D 04 3E                        	LEA	EAX,DWORD [ESI+EDI*1]
   592 00000575 89 44 CB 10                     	MOV	DWORD [16+EBX+ECX*8],EAX
   593 00000579 89 D0                           	MOV	EAX,EDX
   594 0000057B 29 F0                           	SUB	EAX,ESI
   595 0000057D 89 44 CB 14                     	MOV	DWORD [20+EBX+ECX*8],EAX
   596 00000581 85 C0                           	TEST	EAX,EAX
   597 00000583 75 20                           	JNE	L138
   598 00000585 8B 03                           	MOV	EAX,DWORD [EBX]
   599 00000587 48                              	DEC	EAX
   600 00000588 89 03                           	MOV	DWORD [EBX],EAX
   601 0000058A 39 C1                           	CMP	ECX,EAX
   602 0000058C 73 17                           	JAE	L138
   603 0000058E 89 C6                           	MOV	ESI,EAX
   604 00000590                                 L143:
   605 00000590 8B 44 CB 18                     	MOV	EAX,DWORD [24+EBX+ECX*8]
   606 00000594 8B 54 CB 1C                     	MOV	EDX,DWORD [28+EBX+ECX*8]
   607 00000598 89 44 CB 10                     	MOV	DWORD [16+EBX+ECX*8],EAX
   608 0000059C 89 54 CB 14                     	MOV	DWORD [20+EBX+ECX*8],EDX
   609 000005A0 41                              	INC	ECX
   610 000005A1 39 F1                           	CMP	ECX,ESI
   611 000005A3 72 EB                           	JB	L143
   612 000005A5                                 L138:
   613 000005A5 89 F8                           	MOV	EAX,EDI
   614 000005A7 EB C0                           	JMP	L132
   615 000005A9                                 	GLOBAL	_sys_api_linewin
   616 000005A9                                 _sys_api_linewin:
   617 000005A9 55                              	PUSH	EBP
   618 000005AA 89 E5                           	MOV	EBP,ESP
   619 000005AC 57                              	PUSH	EDI
   620 000005AD 56                              	PUSH	ESI
   621 000005AE 53                              	PUSH	EBX
   622 000005AF 83 EC 0C                        	SUB	ESP,12
   623 000005B2 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   624 000005B5 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   625 000005B8 89 D9                           	MOV	ECX,EBX
   626 000005BA 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
   627 000005BD C1 E1 0A                        	SAL	ECX,10
   628 000005C0 89 D7                           	MOV	EDI,EDX
   629 000005C2 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
   630 000005C5 89 C6                           	MOV	ESI,EAX
   631 000005C7 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   632 000005CA 2B 7D 10                        	SUB	EDI,DWORD [16+EBP]
   633 000005CD C1 E1 0A                        	SAL	ECX,10
   634 000005D0 29 DE                           	SUB	ESI,EBX
   635 000005D2 89 4D EC                        	MOV	DWORD [-20+EBP],ECX
   636 000005D5 0F 88 000000A3                  	JS	L171
   637 000005DB                                 L150:
   638 000005DB 85 FF                           	TEST	EDI,EDI
   639 000005DD 0F 88 00000094                  	JS	L172
   640 000005E3                                 L151:
   641 000005E3 39 FE                           	CMP	ESI,EDI
   642 000005E5 7C 62                           	JL	L152
   643 000005E7 8D 4E 01                        	LEA	ECX,DWORD [1+ESI]
   644 000005EA 39 C3                           	CMP	EBX,EAX
   645 000005EC BE FFFFFC00                     	MOV	ESI,-1024
   646 000005F1 7F 05                           	JG	L154
   647 000005F3 BE 00000400                     	MOV	ESI,1024
   648 000005F8                                 L154:
   649 000005F8 39 55 10                        	CMP	DWORD [16+EBP],EDX
   650 000005FB 7F 46                           	JG	L155
   651 000005FD 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
   652 00000600 42                              	INC	EDX
   653 00000601                                 L170:
   654 00000601 C1 E2 0A                        	SAL	EDX,10
   655 00000604 89 D0                           	MOV	EAX,EDX
   656 00000606 99                              	CDQ
   657 00000607 F7 F9                           	IDIV	ECX
   658 00000609 89 C7                           	MOV	EDI,EAX
   659 0000060B                                 L157:
   660 0000060B 85 C9                           	TEST	ECX,ECX
   661 0000060D 7E 2C                           	JLE	L168
   662 0000060F 89 CB                           	MOV	EBX,ECX
   663 00000611                                 L166:
   664 00000611 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   665 00000614 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   666 00000617 C1 F8 0A                        	SAR	EAX,10
   667 0000061A 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
   668 0000061D 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
   669 00000621 C1 F9 0A                        	SAR	ECX,10
   670 00000624 89 4D E8                        	MOV	DWORD [-24+EBP],ECX
   671 00000627 8B 0A                           	MOV	ECX,DWORD [EDX]
   672 00000629 03 45 E8                        	ADD	EAX,DWORD [-24+EBP]
   673 0000062C 8A 55 1C                        	MOV	DL,BYTE [28+EBP]
   674 0000062F 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
   675 00000632 01 75 F0                        	ADD	DWORD [-16+EBP],ESI
   676 00000635 01 7D EC                        	ADD	DWORD [-20+EBP],EDI
   677 00000638 4B                              	DEC	EBX
   678 00000639 75 D6                           	JNE	L166
   679 0000063B                                 L168:
   680 0000063B 83 C4 0C                        	ADD	ESP,12
   681 0000063E 5B                              	POP	EBX
   682 0000063F 5E                              	POP	ESI
   683 00000640 5F                              	POP	EDI
   684 00000641 5D                              	POP	EBP
   685 00000642 C3                              	RET
   686 00000643                                 L155:
   687 00000643 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
   688 00000646 4A                              	DEC	EDX
   689 00000647 EB B8                           	JMP	L170
   690 00000649                                 L152:
   691 00000649 8D 4F 01                        	LEA	ECX,DWORD [1+EDI]
   692 0000064C 39 55 10                        	CMP	DWORD [16+EBP],EDX
   693 0000064F BF FFFFFC00                     	MOV	EDI,-1024
   694 00000654 7F 05                           	JG	L159
   695 00000656 BF 00000400                     	MOV	EDI,1024
   696 0000065B                                 L159:
   697 0000065B 39 C3                           	CMP	EBX,EAX
   698 0000065D 7F 11                           	JG	L160
   699 0000065F 29 D8                           	SUB	EAX,EBX
   700 00000661 8D 50 01                        	LEA	EDX,DWORD [1+EAX]
   701 00000664                                 L169:
   702 00000664 C1 E2 0A                        	SAL	EDX,10
   703 00000667 89 D0                           	MOV	EAX,EDX
   704 00000669 99                              	CDQ
   705 0000066A F7 F9                           	IDIV	ECX
   706 0000066C 89 C6                           	MOV	ESI,EAX
   707 0000066E EB 9B                           	JMP	L157
   708 00000670                                 L160:
   709 00000670 29 D8                           	SUB	EAX,EBX
   710 00000672 8D 50 FF                        	LEA	EDX,DWORD [-1+EAX]
   711 00000675 EB ED                           	JMP	L169
   712 00000677                                 L172:
   713 00000677 F7 DF                           	NEG	EDI
   714 00000679 E9 FFFFFF65                     	JMP	L151
   715 0000067E                                 L171:
   716 0000067E F7 DE                           	NEG	ESI
   717 00000680 E9 FFFFFF56                     	JMP	L150
